# Documind Environment Configuration
# Generated by Ansible on {{ ansible_date_time.iso8601 }}

# Database Configuration
DOCUMIND_DATABASE_DRIVER={{ documind_database_driver }}
{% if documind_database_driver != 'sqlite' %}
DOCUMIND_DATABASE_SERVER={{ documind_database_server | default('localhost:' ~ ('5432' if documind_database_driver == 'postgres' else '3306')) }}
DOCUMIND_DATABASE_USER={{ documind_database_user }}
DOCUMIND_DATABASE_PASSWORD={{ documind_database_password }}
DOCUMIND_DATABASE_NAME={{ documind_database_name }}
{% endif %}

# Authentication Configuration
DOCUMIND_AUTH_MODE={{ documind_auth_mode }}
{% if documind_auth_mode == 'oidc' %}
DOCUMIND_OIDC_ISSUER={{ documind_oidc_issuer }}
DOCUMIND_OIDC_CLIENT_ID={{ documind_oidc_client_id }}
DOCUMIND_OIDC_CLIENT_SECRET={{ documind_oidc_client_secret }}
DOCUMIND_OIDC_CALLBACK_URL={{ documind_oidc_callback_url }}
{% endif %}
{% if documind_auth_mode == 'ldap' %}
DOCUMIND_LDAP_URL={{ documind_ldap_url }}
DOCUMIND_LDAP_BIND_DN={{ documind_ldap_bind_dn }}
DOCUMIND_LDAP_BIND_CREDENTIALS={{ documind_ldap_bind_credentials }}
DOCUMIND_LDAP_SEARCH_BASE={{ documind_ldap_search_base }}
DOCUMIND_LDAP_SEARCH_FILTER={{ documind_ldap_search_filter | default('(uid={{username}})') }}
{% endif %}

# Storage Configuration
DOCUMIND_STORAGE_PATH={{ documind_storage_path }}
DOCUMIND_STORAGE_MAX_SIZE={{ documind_storage_max_size | default(10240) }}

# Server Configuration
DOCUMIND_PORT={{ documind_port | default(8080) }}
DOCUMIND_DISABLE_TLS={{ documind_enable_tls | ternary('false', 'true') }}

# Performance Configuration
DOCUMIND_INDEXING_THREADS={{ documind_indexing_threads }}
DOCUMIND_ENABLE_OCR={{ documind_enable_ocr | ternary('true', 'false') }}
DOCUMIND_ENABLE_NLP={{ documind_enable_nlp | ternary('true', 'false') }}
DOCUMIND_CACHE_SIZE={{ documind_cache_size }}
