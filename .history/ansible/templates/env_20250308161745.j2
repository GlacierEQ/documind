# Documind Environment Configuration
# Generated by Ansible on {{ ansible_date_time.date }}

# Environment
NODE_ENV=production
PORT={{ app_port }}
LOG_LEVEL={{ log_level }}
SESSION_SECRET={{ session_secret }}
APP_URL=https://{{ domain_name }}

# Database Configuration
DB_TYPE={{ db_type }}
DB_HOST={{ db_host }}
DB_PORT={{ db_port }}
DB_NAME={{ db_name }}
DB_USER={{ db_user }}
DB_PASSWORD={{ db_password }}

# Redis Configuration
REDIS_HOST={{ redis_host }}
REDIS_PORT={{ redis_port }}
REDIS_PASSWORD={{ redis_password }}

# Storage Configuration
STORAGE_TYPE={{ storage_type }}
{% if storage_type == 's3' %}
S3_BUCKET={{ s3_bucket }}
S3_REGION={{ aws_region }}
S3_ACCESS_KEY={{ s3_access_key }}
S3_SECRET_KEY={{ s3_secret_key }}
{% else %}
STORAGE_PATH={{ storage_path }}
{% endif %}
MAX_FILE_SIZE={{ max_file_size }}

# AI Configuration
AI_PROVIDER={{ ai_provider }}
AI_MAX_TOKENS={{ ai_max_tokens }}
AI_TEMPERATURE={{ ai_temperature }}

{% if ai_provider == 'granite' %}
# Granite AI Configuration
GRANITE_API_KEY={{ granite_api_key }}
GRANITE_MODEL={{ granite_model }}
GRANITE_EMBEDDING_MODEL={{ granite_embedding_model }}
{% endif %}

{% if ai_provider == 'openai' %}
# OpenAI Configuration
OPENAI_API_KEY={{ openai_api_key }}
OPENAI_MODEL={{ openai_model }}
{% endif %}

# Backup Configuration
BACKUP_SCHEDULE={{ backup_schedule }}
BACKUP_RETENTION_DAYS={{ backup_retention_days }}
{% if enable_s3_backups %}
S3_BACKUP_BUCKET={{ s3_backup_bucket }}
AWS_ACCESS_KEY_ID={{ aws_access_key }}
AWS_SECRET_ACCESS_KEY={{ aws_secret_key }}
{% endif %}

# Monitoring Configuration
{% if enable_monitoring %}
METRICS_ENABLED=true
GRAFANA_ADMIN_USER={{ grafana_admin_user }}
GRAFANA_ADMIN_PASSWORD={{ grafana_admin_password }}
{% endif %}

# Security Settings
PASSWORD_MIN_LENGTH={{ password_min_length }}
PASSWORD_REQUIRE_COMPLEXITY={{ password_complexity }}
{% if enable_rate_limiting %}
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS={{ rate_limit_window }}
RATE_LIMIT_MAX_REQUESTS={{ rate_limit_max }}
{% endif %}

# Email Configuration
SMTP_HOST={{ smtp_host }}
SMTP_PORT={{ smtp_port }}
SMTP_SECURE={{ smtp_secure }}
SMTP_USER={{ smtp_user }}
SMTP_PASS={{ smtp_password }}
EMAIL_FROM={{ email_from }}
